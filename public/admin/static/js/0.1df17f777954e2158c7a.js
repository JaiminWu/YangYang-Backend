webpackJsonp([0],{SDwL:function(e,t,l){"use strict";var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"user-list--container"},[l("header",{staticClass:"container--title"},[e._v("用户列表")]),e._v(" "),l("el-radio-group",{staticClass:"radio--container",attrs:{size:"small"},model:{value:e.userTypeSelector,callback:function(t){e.userTypeSelector=t},expression:"userTypeSelector"}},[l("el-radio-button",{attrs:{label:"成人"}},[e._v("成人")]),e._v(" "),l("el-radio-button",{attrs:{label:"学生"}},[e._v("学生")])],1),e._v(" "),l("el-table",{attrs:{data:e.userList,border:""}},[l("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",{staticClass:"address--text"},[e._v("家庭地址: "+e._s(t.row.address))]),e._v(" "),l("el-table",{attrs:{data:t.row.user_bill}},[l("el-table-column",{attrs:{prop:"bill_id",label:"账单id"}}),e._v(" "),l("el-table-column",{attrs:{prop:"borrow",label:"借款总额"}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"交付类型"}}),e._v(" "),l("el-table-column",{attrs:{label:"申请时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(String(t.row.applied_at).split(" ")[0]))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"还款时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(String(t.row.repaid_at).split(" ")[0]))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"最后还款日"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(String(t.row.deadline_at).split(" ")[0]))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-select",{attrs:{placeholder:"请选择"},on:{change:function(l){e.rowStatusChange(t)}},model:{value:t.row.status,callback:function(l){e.$set(t.row,"status",l)},expression:"scope.row.status"}},e._l(e.billStatusList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))]}}])})],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"user_id",label:"用户id"}}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"用户姓名"}}),e._v(" "),l("el-table-column",{attrs:{prop:"phone",label:"用户手机"}}),e._v(" "),l("el-table-column",{attrs:{prop:"referrer",label:"推荐码"}}),e._v(" "),l("el-table-column",{attrs:{label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(String(t.row.created_at).split(" ")[0])+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"qq_id",label:"QQ号"}}),e._v(" "),l("el-table-column",{attrs:{prop:"wechat_id",label:"微信号"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{staticClass:"options--btn",class:t.row.if_verified?"disabled":"",attrs:{type:"text",size:"small"},on:{click:function(l){e.changeVerify(t)}}},[e._v("\n          "+e._s(t.row.if_verified?"已审核":"审核")+"\n        ")])]}}])})],1),e._v(" "),l("el-dialog",{attrs:{title:"编辑用户",visible:e.userInfoDialogVisibile},on:{"update:visible":function(t){e.userInfoDialogVisibile=t}}},[e._v("\n    "+e._s(e.userInfoDialog)+"\n\n  ")])],1)},a=[],o={render:s,staticRenderFns:a};t.a=o},VexP:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l("dm1X"),a=l("SDwL"),o=l("VU/8"),i=o(s.a,a.a,!1,null,null,null);t.default=i.exports},dm1X:function(e,t,l){"use strict";t.a={data:function(){return{userList:[],userTypeSelector:"成人",billList:[],userInfoDialog:{},userInfoDialogVisibile:!1,billStatusList:[{value:0,label:"未下款"},{value:1,label:"已下款"},{value:2,label:"已还款"}]}},watch:{userTypeSelector:function(){this.getUserList()}},mounted:function(){this.getUserList()},methods:{getUserList:function(){var e=this;this.axios.get("/user/list?adult="+("学生"===this.userTypeSelector?"0":"1")).then(function(t){console.log(t),e.userList=t.data})},showBorrowList:function(e){var t=this;this.axios.get("/bill/list?user_id="+e.row.user_id).then(function(e){console.log(e.data),t.billList=e.data})},editUser:function(e){var t=this;console.log(e.row.user_id),this.userInfoDialogVisibile=!0,this.axios.get("/user/info?user_id="+e.row.user_id).then(function(e){console.log(e.data),t.userInfoDialog=e.data})},changeVerify:function(e){var t=this;console.log(e.$index),this.axios.get("/user/verify?user_id="+e.row.user_id).then(function(l){console.log(l.data),t.userList[e.$index].if_verified=1-t.userList[e.$index].if_verified})},rowStatusChange:function(e){console.log("======================================================="),this.axios.get("bill/update?bill_id="+e.row.bill_id+"&status="+e.row.status).then(function(e){console.log(e.data)})}}}}});